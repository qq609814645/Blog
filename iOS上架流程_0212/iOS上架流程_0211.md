
[TOC]
# 总体大致流程图
![204d0d6c0cf1185816851c21a2a59516](iOS上架流程_0211.resources/1389082-417d80bf17f1f4e4.png)
<u>APP上架流程图</u>

## 1.成为付费开发者
>假设已经创建拥有了Apple ID，但是还未成为付费的开发者，现在从申请成为付费开发者开始；(注意：苹果新规定Apple ID需开启双重验证才能注册开发者账号，所以在此之前需要根据提示开启设备进行双重验证)[苹果开发者中心](https://developer.apple.com/)


![f8c28c577a3c09845a5c89901dc98a53](iOS上架流程_0211.resources/图1.png)

<u>图1. 用浏览器打开苹果开发者网站</u>
![0cd111cef380e40f59c031b009acf4b0](iOS上架流程_0211.resources/屏幕快照 2019-02-11 14.33.37.png)

<u>图2. 使用Apple ID登录开发者网站</u>

注意，如果你是第一次使用你的Apple ID登入苹果开发者网站，你会看到如下所示的页面，这个时候你需要同意“苹果开发者协议”，并提交你的请求，这个时候你的Apple ID就已经成为一个开发者ID了。
![84c85dda44eda38deb4fb65af8e19aef](iOS上架流程_0211.resources/1389082-93bca6ea8dcdcdc6-2.png)

<u>图3. 苹果开发者协议页面</u>

![6b664f5d527cf458058766aed826f35a](iOS上架流程_0211.resources/1389082-dfcaaa70f3a3b594.png)

<u>图4. 同意苹果开发者协议并提交申请</u>

![5073fb2827a0a1e9c6777ac945c4d6fb](iOS上架流程_0211.resources/1389082-d9339fe844141045.png)

<u>图5. 加入苹果开发计划</u>
接下来的页面中你会发现一个注册的按钮，点击它就可以申请成为付费的开发者了。

![655a7ed95b526c8ffc75baa1a3c6a9df](iOS上架流程_0211.resources/1389082-cd12c126488a3bb9.png)

<u>图6. 点击注册按钮</u>

![15078d38b470e6219c812faee3824c68](iOS上架流程_0211.resources/1389082-3a59362ad2f17f7e.png)

<u>图7. 点击开始注册</u>

补充：
[图7 点击开始注册翻译版](https://upload-images.jianshu.io/upload_images/1389082-5fc0ce577888bbcc.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000)

在接下来的页面中选择开发者类型后就可以继续了。

![ec39ec83210d061617abecdf8d451856](iOS上架流程_0211.resources/1389082-101e5efbe86e7a91.png)

<u>图8. 选择开发者类型并继续</u>
接下来需要填写一大堆的注册信息，而且需要本土语言和英语两种版本，然后还得再次同意一个你不太愿意阅读但是必须得同意的协议。点击“Continue”后会进入下一个页面，如果刚才的信息无误，就再次点击“Continue”按钮进入准备支付的页面。

![db22353cb1c49a7d5d809003c605b476](iOS上架流程_0211.resources/1389082-e828d0afc514ca2a.png)

<u>图9. 填写注册信息</u>

![5b50ec6676820b5438e90818cb5d6841](iOS上架流程_0211.resources/1389082-5b5ad11081216dff.png)

<u>图10. 同意协议并且继续</u>

![e41e3f9e16055c0964e8dfaa3743ebde](iOS上架流程_0211.resources/1389082-a0b52c5ed41189bc.png)

<u>图11. 点击支付按钮</u>

接下来还得登录一次，然后终于可以把钱付给Apple了，真是不容易啊，不过你还得有Visa信用卡或者是MasterCard。




[图12. 再次登录](https://upload-images.jianshu.io/upload_images/1389082-f49d1d07a421772e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700)
[图13. 填写付费信息的页面](https://upload-images.jianshu.io/upload_images/1389082-76fa4ba059fa05be.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700)

剩下的步骤你就按照网页上的提示操作就可以了，国内的很多银行在进行境外支付时可能会给你来电话确认支付授权，所以上面填写的信用卡信息以及账单联系人信息必须匹配，否则基本上会支付失败，即便你通过网上银行开通了境外支付。在上面的页面中还需要填写发票信息，如果需要机打发票的话这里的信息就不要填错。
支付成功后，苹果会在48小时内对订单进行处理，然后你可能会收到邮件要求到指定的页面上传身份证照片。如果遇到任何问题，你可以拨打苹果开发的售后服务电话，号码是4006701855。成为开发者后再次登录，就会看到如下所示的页面。

[图14. 成为付费开发者后重新登录]()

* 备注1：邓白氏DUNS的申请可以点击相关链接先进行验证，没有可以直接申请[相关链接](https://jingyan.baidu.com/article/27fa7326bd29df46f9271f10.html)

[屏幕快照 2018-12-07 下午2.56.53.png](https://upload-images.jianshu.io/upload_images/1389082-59ee3687571c5bc3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/999)
[屏幕快照 2018-12-07 下午2.57.03.png](https://upload-images.jianshu.io/upload_images/1389082-b73d0c142e057e0b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/743)

* 备注2：公司开发者账号相关

1. 申请[参考链接](http://www.cocoachina.com/cms/wap.php?action=article&amp;id=20073)

2. 账号类型：
[开发者账号类型](https://upload-images.jianshu.io/upload_images/1389082-ffafee285b2e972f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/870)

[相关材料](https://upload-images.jianshu.io/upload_images/1389082-bb62eb217664ce19.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/994)

## 2.创建证书、应用ID和Profiles文件

>成为付费开发者后重新登录成功，点击第二个红框进入创建证书、应用ID和Profiles文件

### 2.1 创建证书（开发证书+产品(生产)证书）
[图15. 付费开发者登录后的界面](https://upload-images.jianshu.io/upload_images/1389082-bf1f01309f64ff4e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000)
[图16. 创建证书的页面](https://upload-images.jianshu.io/upload_images/1389082-ea81e689ea74421f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700)

点击上面页面中左侧的证书，并在右侧点击“+”就可以创建证书。

[图17. 选择证书类型的页面](https://upload-images.jianshu.io/upload_images/1389082-bae9d355659e87f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700)

在上面的页面中选中红框中的选项可以创建开发证书，主要用于真机测试；选中蓝框中的选项可以创建产品证书，用于应用上线到App Store或小范围发布。下面演示完整的项目上线流程，因此在这里选择蓝框中的选项“App Store and Ad Hoc”并点击“Continue”按钮继续。

接下来的页面会提示你创建证书需要一个证书签名请求文件，因此我们需要在自己的Mac系统上使用“钥匙串访问”应用创建一个证书签名请求文件。

[图18. 提示创建证书签名请求的页面](https://upload-images.jianshu.io/upload_images/1389082-b807f69fc0b34e43.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700)
[图19. 通过Launchpad打开“钥匙串访问”应用](https://upload-images.jianshu.io/upload_images/1389082-1c4b8bc978df8e96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700)
[图20. 通过“证书助理”创建证书签名请求](https://upload-images.jianshu.io/upload_images/1389082-5113a8b5f4057231.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700)

注意：在上面的界面中要选中“从证书颁发机构请求证书…”菜单项才能打
开如下所示的界面。

[图21. 将证书签名请求文件保存到桌面](https://upload-images.jianshu.io/upload_images/1389082-ccf2e6ab61de192a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700)
[图22. 选择证书签名请求文件并继续](https://upload-images.jianshu.io/upload_images/1389082-101375945592f27f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700)
接下来可以将生成的证书下载到下来并双击添加到“钥匙串”中。

![3eb0153d6d75f4e1c44525a3532c38e5](iOS上架流程_0211.resources/387EFD8B-0AE9-440C-A0BE-649C3DF395CC.png)

<u>图23. 下载创建好的证书</u>

![52a3d57b39c3b230087e728ea4590a91](iOS上架流程_0211.resources/25AC637E-66EA-46CF-92F7-A8E0C9FE6799.png)

<u>图24. 将证书添加到钥匙串中</u>
![5ea4ce81dfdace982dfca412c42cc844](iOS上架流程_0211.resources/21834BD0-F0E9-4FE2-9B5E-EB0A648B4B69.png)

<u>图25. 在“钥匙串”中查看证书</u>

### 2.2 创建APP ID
>选中页面左侧的“Identifiers”并点击右侧的“+”来注册要上线的应用程序ID。

![4cc41b852340be9e2983ff5149bf3308](iOS上架流程_0211.resources/6A4E61C8-2E20-4EED-8FCC-F4FE872173CA.png)

图26. 注册应用的ID

![03f3d81020d2eb8fa3f84d48bbe23238](iOS上架流程_0211.resources/BB4C4B3C-5026-4247-B594-CB8627100F56.png)

图27. 填写应用ID的名称和Bundle ID

**注意：上面的Bundle ID应该跟Xcode中项目的Bundle ID保持完全一致，此处最好确认一下Xcode中的Bundle ID，如下所示。**

![716559dbec5c76f485ded2bf76f8bb4b](iOS上架流程_0211.resources/338D2DB1-D5EA-4FC3-A3F5-8C6446E5D74D.png)

图28. 在Xcode中查看或修改项目的Bundle Identifier

![64f6d15b1052048efbe0f1c842313ec0](iOS上架流程_0211.resources/075B8CC2-241A-45A5-946C-48AECB6DC426.png)

图29. 可以对项目使用的服务进行设置并继续

![d7f4edbd9666cbaf77702679d918b808](iOS上架流程_0211.resources/67C2094A-35FC-4622-8FD6-BB575AAFA749.png)

图30. 完成应用ID注册

上面一步完成后还要点击“Done”按钮，然后就可以在“App IDs”中看到所有注册过的应用程序的Bundle ID。

### 2.3 创建Profiles文件
>接下来就可以用证书和注册的应用程序ID来生成“Provisioning Profiles”，你可以把这个文件理解为一个配置文件（后文中将“Provisioning Profile”统称为“配置文件”），有了这个文件才能对你的项目代码用证书进行签名并完成上线的操作。

![6b0367c99fc5ffbda8238bf9aa6d906d](iOS上架流程_0211.resources/DA8E9B34-A1C8-4E25-A828-870C90B3333E.png)

备注1. 配置文件详解

![70a7d1414d1e521cff1df18c2b635e74](iOS上架流程_0211.resources/845A0927-A4F4-472C-97F2-BEF42578B49D.png)

备注2. XCode中配置文件位置

![1e85878e4bc6fe5819f39f40c27f5250](iOS上架流程_0211.resources/5E1EA8DA-5136-4233-A32C-3B650238FA94.png)

图31. 查看Provisioning Profiles

点击页面右上方的“+”开始创建“配置文件”。

![370872fea9fd0975d0b86e092b38fe61](iOS上架流程_0211.resources/0F61316E-3D5A-43BF-9F5E-E0A12D6815E9.png)
图32. 创建新的“配置文件”
![5517743f9f27e4a1c3671f5f11881fb2](iOS上架流程_0211.resources/E123A7BD-EB91-4517-9BFB-9CDA394843DB.png)

图33. 选择“配置文件”的类型
![1b3e968a5d360baa8840d051a2a79f5a](iOS上架流程_0211.resources/547AFFEF-3DF6-441C-BF7E-AB65E1D32E54.png)

图34. 选择应用程序ID
![c6ba7fbeae973ff72a98edc3035e9bf3](iOS上架流程_0211.resources/2218353E-2852-4C62-88E2-A013DF99DB7E.png)

图35. 选择使用的证书

![50a24b11a8b7eadd009ab9ac6f0e6642](iOS上架流程_0211.resources/2C638E40-DC41-474D-9EB2-3DA8874762E3.png)

图36. 给“配置文件”命名

![860f6c22d752c144212c44e16745709b](iOS上架流程_0211.resources/E521E197-6611-4F70-A85C-0F0CFB6238F9.png)

图37. 下载“配置文件”并点击“完成”按钮

下载好的配置文件可以双击添加到Xcode中，待会就可以使用这个配置文件来完成项目的上线。现在可以回到开发者中心，进入“iTunes Connect”进行创建APP。

## 3.创建APP

![76c63a6cfc17e5aeef8caa90116f6d62](iOS上架流程_0211.resources/F79975B9-540B-430F-8E7D-276D98D8CF35.png)

图38. 回到开发者中心

![ed3b7d90fd5d8a50d69ecaaf0b218b29](iOS上架流程_0211.resources/57A6AC5E-D889-4750-93B4-31B70C9D9527.png)

图39. 进入iTunes Connect

![f614c2888baed6ed469bc0cade0c7bce](iOS上架流程_0211.resources/2E91CAC9-CAF1-41C0-B4D7-785AB8FEB2A1.png)

图40. 管理App

![9b881f3faa6a3e9ac99afac466d33426](iOS上架流程_0211.resources/22F8F17D-469F-4409-9DF8-74762646E984.png)

图41. 新建App

![2ec05fc6ecb3976fcf28ee9b3a0a3bbc](iOS上架流程_0211.resources/D44FB3FA-DB60-4367-A437-6B8C390588D3.png)

图42. 填写App相关信息

**说明：上图中“名称”是你的应用在App Store中显示的名字；“套装ID”是Xcode中项目的Bundle Identifier；“SKU”可以填写当天日期外加一个编号即可，这是你为你的应用指定的一个标识符。接下来的页面中可以指定应用的类别。**

![6f00db32df1b0cea18ad98fa9d1f1926](iOS上架流程_0211.resources/E4EEB2A6-8874-40FA-9F24-74FF1C4014FE.png)

图43. 指定应用程序类别并存储

![bf8214ab257cb684d91264ee12df8b55](iOS上架流程_0211.resources/086560AC-588D-439F-AEAF-8A2E0E5D3413.png)

图44. 点击“1.0准备提交”填写App相关信息
现在添加预览图要求：至少上传两张5.5英寸的预览图

![7f884b60f88d1a978f9202de36e71a95](iOS上架流程_0211.resources/701F7C37-0539-4724-A37D-FB6920586181.png)

图45. 添加App预览和屏幕快照

![a38e417ffc8e80bded7c0aaac9a15b3f](iOS上架流程_0211.resources/B528E7BE-F861-43A0-8665-50E41DC47802.png)

图46. 编写应用描述和关键词

![cba1de2c934a12c85491831fa868c0da](iOS上架流程_0211.resources/9F51EA6C-D5CB-4365-BBD1-1108DA495273.png)

图47. 设置应用图标并编辑应用分级
**注意：应用图标必须提供1024x1024的图片且图片不能设置alpha通道（透明度）；应用分级是为了确定应用使用群体的年龄段，如下图所示**

![fc5083c832a26f50a2b1003c96139c8c](iOS上架流程_0211.resources/089C2A9A-0DFA-4F8D-AC29-EA3354BCB0F4.png)

图48. 编辑应用分级
![05931caf4867e65eeded5ed4a00e28c7](iOS上架流程_0211.resources/90C8F770-F0A4-4D26-B490-22839B091F99.png)

图49. 设置完图标和应用分级后的效果
![a22593fc10db208a7472e02a11d52424](iOS上架流程_0211.resources/1AFEE669-3F90-4BD8-9A70-C43C9E09136B.png)

图50. 提供联系人信息和演示账号
**说明：如果你的应用中有需要登录后才能使用的功能那么就必须提供一个演示账号以供审核应用时使用。**

![44f661d4b4d32df22e28536f7f842d25](iOS上架流程_0211.resources/0EE6C789-9AD2-44EA-9E5D-4C99F8A3A58C.png)

图51. 选择发布方式并保存应用信息
**注意：可以选择手动发布版本，根据自己情况选择**

## 4.打包IPA
>接下来就要回到Xcode提交应用程序的代码以供审核，如下图所示我们可以在项目的“Build Settings”中设置代码签名和“配置文件”，可以在上面的**工具栏中选中“Generic iOS Device”（这里不能选择模拟器）**，然后用“Product”菜单中的“Clean”菜单项对项目做一次清理，再用“Archive”菜单项来对项目进行打包操作。需要提醒的是，如果代码签名出现问题，可以通过如下图所示的“Fix issue”按钮进行联网修复。

![c1a3b711a6d82bf0fe8313fafa034872](iOS上架流程_0211.resources/B7A9D1DF-B307-441E-80D6-52CEBF6E932F.png)

图52. Xcode中设置代码签名和“配置文件”
![cd666d786f8afe59b2a18f7a4ad53d88](iOS上架流程_0211.resources/3948B1EF-936B-4171-8601-AC04A7734CB2.png)

图53. 联网修复代码签名问题
注意：
1. **在ITunes Connect中上传成功一次项目，下一次再打包上传的时候需要改下Build，如递增，不能重复**
2. **版本控制更改根据自己的需要来控制更改，Xcode中版本号Version尽量和ITunes Connect上项目的版本号一致**
3. **如果应用不支持横竖屏，不要选中Landscape Left、Landscape Right这两项；支持再勾上**


![5635bcc4c73ff598b692fb19a1d99d29](iOS上架流程_0211.resources/062E2FCA-86FE-4D7E-94BD-E18A241E3E3E.png)

图54. 通过“Product”菜单的“Archive”菜单项启动打包上传工具

点击上图红框中的按钮可以上传项目到App Store；点击蓝框中的按钮可以对项目进行验证；点击绿框中的按钮可以将项目导出成ipa文件。

![44fa71f595b63ffc3c907e01450098b7](iOS上架流程_0211.resources/F331C671-3F42-4C4E-97F8-900908A05E4E.png)

图55. 验证项目界面

![3f68bcbb6c79ab63092ec07d043a67c1](iOS上架流程_0211.resources/EAE65492-37FE-4EA1-BA40-FA214B0E88DF.png)

图56. 导出项目的界面

![7330c33f280484651f4f64084d30a335](iOS上架流程_0211.resources/846907FC-FC49-480C-BA32-FC2460C06C3C.png)

图57. 选择导出的目标设备
导出成功后会看到如下图所示的文件：

![94424a5a00105703078ec23d7ac48a9f](iOS上架流程_0211.resources/CCFF22C3-E347-41EE-A34A-3FEAF8E1AE7D.png)

图58. 导出后生成的ipa文件
可以使用类似于蒲公英这样的内测分发工具将ipa文件上传生成一个二维码，这样可以让所有的测试机通过扫描二维码安装该应用来进行内测，如下图所示：

![8ebdf2ea34ad00e60e766c6f834dcf36](iOS上架流程_0211.resources/1E3C6EE9-682F-4184-8555-CF3DF556A9E5.png)

图59. 蒲公英界面

![c5144f883055c0a8dd266b02263f52c8](iOS上架流程_0211.resources/D917450B-43EC-45F9-ACEE-1D9F5CE30CD3.png)

图60. 上传ipa文件并生成二维码

![19ee4def7bb950f2ebcca65fa6af4f70](iOS上架流程_0211.resources/2B77D091-FE41-4654-8F99-AA39DBCCA2AF.png)

图61. 上传成功后打开应用对应的页面

经过严格的内测后，解决bug无误后将应用上传到App Store
![b065e3e68e703c43ce1c49894c15b339](iOS上架流程_0211.resources/4D26ACEF-7818-4B25-9015-8A13D4BF7161.png)

图62. 点击“Upload”上传到App Store

![e83a2853cc3f73354e6a343482f93edc](iOS上架流程_0211.resources/1FBC4F69-4ECB-4724-A2FB-3B7C1BE65CC8.png)

图63. 正在上传应用到App Store
然后回到ITunes Connect中，上传构建版本：

![87051cbda70d18904d2fce97e9e2f91b](iOS上架流程_0211.resources/77648DC3-8602-4217-9455-C6EDBE0D28B3.png)


64.上传构建版本页面

![1fda355039ff7f2c30ae7c4dbee4341a](iOS上架流程_0211.resources/2A93E25F-89F1-482F-BAD1-2476D68C6B62.png)

65.添加版本

![8f4af5417aefa37614f7f0a813e12426](iOS上架流程_0211.resources/36DF1170-4648-43AB-9EF7-55152F56D611.png)

66.正在存储并提交审核

![900fbab5e217e044a48619e58210ba5d](iOS上架流程_0211.resources/32538815-0A82-48A8-8A37-D5866387A7D0.png)

67.上传成功后提交

![924ac11749d67ef4eb547f3aebb99a5c](iOS上架流程_0211.resources/894EE543-1434-4C2A-8978-481E723ACA46.png)

68.正在等待审核

[打包相关链接](https://www.jianshu.com/p/f9f7c8ce78b9)

## 5.补充内容
### 1. 构建版本的两种方法
一种是通过Xcode的，
一种是使用Application Loader 这个工具

![1a9f47aa8c310bed575598b0ce10c7e6](iOS上架流程_0211.resources/C0B1099D-1482-43D0-A453-19B2236979E2.png)

Application Loader

![0f0ed5d24d8ab01e5f72c3cc126029d0](iOS上架流程_0211.resources/78843D1A-997D-4D71-95C3-CB3E78B02A28.png)

步骤1

![67041f6ae1329700064db59cd952b605](iOS上架流程_0211.resources/D93903F0-0801-4B2B-ADC8-E013DC0A6A12.png)

步骤2

![2fbc8da97b612e0084134044e61aa1fc](iOS上架流程_0211.resources/BB86C93B-6BDD-41D5-AD0B-52828ED10E34.png)

步骤3

![e23fb40b03baa59db41d3a0042eacace](iOS上架流程_0211.resources/7269335B-D575-49EB-9A0F-D51D6EE65FE6.png)

步骤4
### 2. 添加设备Devices，安装APP（内测）每台Apple设备使用UDID来唯一标识
> 1. 可以通过设备直接连接Xcode进行注册设备，安装APP
> 2. 获取UUID，通过在开发者中心来添加设备，扫码打好的包的二维码安装APP
> 3. 获取UUID的方法：[蒲公英扫描获取](https://www.pgyer.com/udid)
> ![0c346bd0377c1ee843e6aede073bd3b7](iOS上架流程_0211.resources/19BAFE49-7E67-440A-BCBD-3EB81B7BD4C8.png)
> 蒲公英获取UUID
> iTunes-&gt;SummaryXcode-&gt;Window-&gt;Devices获取
> 4. 开发描述文件（Provisioning Profiles）必须绑定设备，所以在申请开发描述文件之前，必须要添加调试的设备（已添加可跳过）；或者**每次在开发者中心添加了设备，都要重新申请下载开发描述文件**

![4b15f2c7941d4d2057b1aba70e61326c](iOS上架流程_0211.resources/DA5018E9-5E68-44BC-A7C1-8C73BC326B98.png)

添加设备页面

![24eedcc52a916b60168e1e21d00d29ac](iOS上架流程_0211.resources/A952F3D6-40CA-410D-A3B7-A5F644B267C1.png)

输入设备名字和UUID

![b5084b81f7ccb0cfb003f7920efd2da1](iOS上架流程_0211.resources/97FFC0FE-EABC-4456-A230-0BF9D0B36FE0.png)

确认信息完成注册


### 3.推送证书相关：
>创建推送证书的流程和创建必须的证书大同小异，也是创建“开发+生产”环境的。假设已经创建下载好推送证书了（创建的时候两个环境可以共用一个CSR文件，这个文件可以在钥匙串中随便生成一个），双击下载好的证书添加到钥匙串中“我的证书”位置，如果双击无法添加到“我的证书”而是到其他地方，则解决的办法是直接将证书拖入到“我的证书”里去。因为要在第三方平台上使用推送，就必须将推送证书转成 .P12文件上传到平台上（转成 .P12别人就可以使用这个证书；要转成这种格式必须是在我的证书里去操作，其他的比如系统的什么都无法操作，如下图所示）

![c4cbe6b62324a3c0fd0fe089120fc409](iOS上架流程_0211.resources/AD2243FC-826B-48B5-A9B9-28AF749AEE77.png)

在证书中右键再导出再选文件格式 .P12

![7ad0675261e59b7205e4b1cdd433e056](iOS上架流程_0211.resources/2267E9DF-EA3F-46FE-8CA7-75E036E6DE3C.jpg)

不是“我的证书”里无法转 .P12

![e3792e05a42ce08b472ae0776fa1b170](iOS上架流程_0211.resources/EA214A16-A31B-4CD2-8343-FA5EF98EBAA6.jpg)

将证书直接拖进去“我的证书”

![1e405e73a54da38411f1e45a86717929](iOS上架流程_0211.resources/AF374ACB-CFAC-412B-82F9-AD0BB9C17609.jpg)

在“我的证书”里可以转 .P12

![6ee04f59c0dd36ac8b1558bc901b8bcf](iOS上架流程_0211.resources/9D4A441B-1BE8-4707-A0D5-30C7236D2553.jpg)

上面点击存储以后就到该界面，输入密码按提示走就可以下载备用

* 第三方平台极光推送需要的东西如下图：
>1. 推送转成 .P12的证书（生产+开发），注意记住创建证书时候设置的密码，这里需要输入密码验证
>2. APNs Auth Key：这个需要在开发者中心申请下载；Key ID在上传APNs Auth Key文件（.P8格式）的时候自动补全
>3. Team ID：在开发者中心查询
>4. Bundle ID：在上传证书的时候会自动补全

![cd78e1f4b98455b82b0c38909c737bb4](iOS上架流程_0211.resources/5361E7AC-A0AD-46C2-8CAB-0FCD37B8C13D.jpg)

极光推送需要的东西

![e93179e941cbf3209abf18a860767969](iOS上架流程_0211.resources/2340D937-A80E-4B48-8801-4D682A161BDD.jpg)

APNs Auth Key申请1

![d765cd07c3eb8089197bd0ef6f96564b](iOS上架流程_0211.resources/DF5CBD0F-23C4-4741-8F86-AD6E18CF97AE.jpg)

APNs Auth Key申请2
![c08b5ccdd100f4ad04f118c5aba833a8](iOS上架流程_0211.resources/D9A466C9-1C67-49C9-8687-7B5617373B32.jpg)

APNs Auth Key申请3

![93a70a02d2fe62965e829caddc642a6d](iOS上架流程_0211.resources/4C862215-5231-4E1D-8DED-7A1867B9AEC8.jpg)

Team ID查看

![780e921fcd568067ad885c54a270fa36](iOS上架流程_0211.resources/64288A43-1761-429A-9ABC-F6D0440DC0E0.png)

CRS文件+2个环境的推送证书+转成的.P12文件+密钥.P8文件

![67be39d4621690d10db923d4ce48c536](iOS上架流程_0211.resources/85DF23AB-A34F-469E-A1E5-EC42E606C4F3.png)

推送证书无法安装到钥匙串的解决方法

[相关链接](https://www.jianshu.com/p/b700f0237b0ehttps://www.cnblogs.com/LJShare/p/5057548.html)
### 4. APP上架流程视频（永久有效）
[链接](https://pan.baidu.com/s/1b-aiRHaU7HY4a6OGM1Kh7g)
密码:xb2m

## 6. APP审核相关
### 1. 苹果的三种审核机制
![5cacf1dd2529193258bcf6beb4fbb5bb](iOS上架流程_0211.resources/F60F2324-7E9F-489E-B301-EAF9074220B6.png)
苹果的三种审核机制
### 2. App审核规则+审核被拒的常见原因
![d598df623a8229df631d20b1c84114da](iOS上架流程_0211.resources/847FE997-7AA2-4C18-AE25-76E96D5DF024.png)

苹果最新审核规则
### 3. 审核相关链接：
  > [项目审核指南（官方文档）](https://developer.apple.com/app-store/review/guidelines/)
   > [最新审核规则](https://blog.csdn.net/tfy_2425482491/article/details/77962137)
   > [被拒的常见原因](https://jingyan.baidu.com/article/ae97a646e297e6bbfd461da1.html)
   > [金融类APP上架常被拒绝的原因](http://www.gzyhinfo.com/a/appzixun/APPxinwenredian/2017/0811/3308.html)
   > [iOS马甲包审核以及常见审核问题](https://mp.weixin.qq.com/s/hceS0VKrFZMwPiGzrivLzA)
        
### 4. 金融类APP无金融资质问题解决方案：
>后台添加一个控制版本的接口，前端传一个版本号给后台进行控制判断。先与后台约定，后台本地存储一个版本号，然后他去对比你上传的版本号是否一样，根据是否一样返回不同的状态值，前端再根据状态值来控制是否显示或者隐藏哪些界面(如状态0：审核阶段，APP审核人员看的界面；状态1：生产阶段，线上APP下载的界面)，注意发布APP要设置手动发布，当APP通过审核后，后台就更改版本号，然后发布APP。下一次更新版本的时候同理操作...


### 5. 如果APP长时间被拒绝，需要注意，可能已经被苹果标记，可更换Bundle Id进行重新上传
### 6. [APP加急审核处理](https://www.jianshu.com/p/3971f6df1cab)
### 7. 注意事项

1. 一个已付费的开发者账号可分为：个人($99)、企业($99)、高校(免费)
2. 确认你安装的Xcode是从App Store或者是开发者网站下载的；因为非官方途径下载的Xcode可能带有XcodeGhost 病毒。如何检查？
    
    ![67ceca407555addcf225cc0bb820f8ea](iOS上架流程_0211.resources/8745CDEB-1ABE-4459-85B0-92B21344A43B.png)
    
    检查XcodeGhost 病毒
    
3. 注意：一个开发者账号只能创建（1-2个开发（测试）证书，2-3个生产（发布）证书），如果你的App Store Ad Hoc 前面的按钮不能选择，则代表你的这个账号无法再创建新的生产证书了。 解决方法： 从共同使用这个账号的人电脑上生成.p12文件，导入自己的电脑。（尽量不要执行下面第2步） 如果你想生成的话，把现有的删除一个（建议删除时间比较靠前的）。注意：如果删除一个证书，那么正在使用这个证书的人将不能再使用了，除非重新生成，然后利用.p12重新导入自己的电脑里！ 注意：如果你想删除证书，执行下面步骤，否则略过。

![e50b698bb580eb3cf00154fa7e70813c](iOS上架流程_0211.resources/B1552F62-3555-4BAD-8A67-9ABD168F9A59.png)

步骤1

![c2fcd2b54972d55f95e259d9f1c556a0](iOS上架流程_0211.resources/350E69D3-8DA4-4ED5-A18F-9837E606A5C7.png)

步骤2

![462891e31bc2e6e07997d404f38b9521](iOS上架流程_0211.resources/5ED1882B-1633-421B-8A17-C1640A2F90EA.png)

步骤3

![a2944beb1329e78ff18db0da788d90bf](iOS上架流程_0211.resources/1058B496-74FB-4113-991C-FAD3B4AA39FF.png)

步骤4

4. 注意：上传App使用的Bundle Identifier，不能使用占位符。如果你的Bundle Identifier已经在网站上绑定了，如果你又修改了你工程里面这个Bundle Identifier的话，需要重新进入到开发者账号里面绑定。
5. 去掉运行的僵尸模式

![8a3582f590e37557c8091fc490e274b8](iOS上架流程_0211.resources/6969B9A4-C447-409D-87CB-8CDAFB159DA7.png)

步骤1

![f52bdf47557dfd1ad4428213f57abb75](iOS上架流程_0211.resources/39882B09-8FAF-4FF2-8E5D-678A66FC722E.png)


步骤2

![ff6e7681adc6a6ce24076e7f026b09b3](iOS上架流程_0211.resources/BA3F50B3-A01B-4C6F-9590-3931ED6101FE.png)

步骤3
6. 上车APP项目时提示提交隐私政策网址
>6.1 问题：使用权限 [ com.apple.developer.in-app-payments] 的 App 必须为[Simplified Chinese]提供隐私政策网址(URL)。如果您的 App 不使用这些权限，请将它们从您的 App 中移除并上传新的二进制文件。在构建APP版本的时候需要你提供政策网址URL，而这个是非必填的；当你app里面包含登录注册功能、支付功能等时，这个选项是必须的！

![40671fb100bbbf604c4202d6e16fde63](iOS上架流程_0211.resources/0B5408AE-5D15-448A-9DB9-47B464709C6A.jpg)

问题展示
>6.2 解决办法：app注册的协议的网址添加到 隐私政策网址(URL)下面并且保存即可


## 7.查看和更改您的应用程序的状态和可用性

[相关链接](https://blog.csdn.net/felicity294250051/article/details/78999376)
## 8.参考链接
1.[iOS APP上架App Store教程(包含Windows下上传IPA到App Store)](http://www.applicationloader.net/blog/zh/88.html)
2.[iOS App上架流程](https://www.jianshu.com/p/817686897ec1)
3.[iOS-App上架详细流程](https://www.jianshu.com/p/0c08d6b350bf)


